import os, datetime

from django.db import models

import pdb


class MonthInfo(models.Model):
	month_text = models.CharField(max_length=140)
	month_verse = models.CharField(max_length=30)
	month_verse_text = models.TextField()
	image = models.FileField(upload_to='month_images/')

class HomeImage(models.Model):
	created = models.DateTimeField(auto_now_add=True)
	image_source = models.URLField()


class Slideshow(models.Model):
	created = models.DateTimeField(auto_now_add=True)
	image = models.FileField(upload_to='slide_images/')


class Sermon(models.Model):
	link = models.URLField()
	title = models.CharField(max_length=250)
	bible_verses = models.CharField(max_length=100)
	preacher = models.CharField(max_length=100, blank=True)
	date = models.DateTimeField()
	embed = models.CharField(max_length=500, blank=True)
	thumbnail = models.URLField(blank=True)
	created = models.DateTimeField(auto_now_add=True)

	class Meta:
		ordering = ['-created']

	def __unicode(self):
		return self.title

	def save(self, *args, **kwargs):
		'''
		Get and save the embed code
		'''
		try:
			vid_id = self.link.split('watch?v=')[1]
			self.embed = '<iframe class="sermon-embed" src="data:application/octet-stream;base64,CjwhRE9DVFlQRSBodG1sPiAgPGh0bWwgbGFuZz0iZW4iIGRpcj0ibHRyIiBkYXRhLWNhc3QtYXBpLWVuYWJsZWQ9InRydWUiPgo8aGVhZD48dGl0bGU+WW91VHViZTwvdGl0bGU+ICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii8vcy55dGltZy5jb20veXRzL2Nzc2Jpbi93d3ctZW1iZWQtcGxheWVyLXZmbDVBaUJtUC5jc3MiIG5hbWU9Ind3dy1lbWJlZC1wbGF5ZXIiPgo8c2NyaXB0PnZhciB5dGNzaSA9IHtndDogZnVuY3Rpb24obikge24gPSAobiB8fCAnJykgKyAnZGF0YV8nO3JldHVybiB5dGNzaVtuXSB8fCAoeXRjc2lbbl0gPSB7dGljazoge30sc3Bhbjoge30saW5mbzoge319KTt9LHRpY2s6IGZ1bmN0aW9uKGwsIHQsIG4pIHt5dGNzaS5ndChuKS50aWNrW2xdID0gdCB8fCArbmV3IERhdGUoKTt9LHNwYW46IGZ1bmN0aW9uKGwsIHMsIG4pIHt5dGNzaS5ndChuKS5zcGFuW2xdID0gKHR5cGVvZiBzID09ICdudW1iZXInKSA/IHMgOituZXcgRGF0ZSgpIC0geXRjc2kuZGF0YV8udGlja1tsXTt9LGluZm86IGZ1bmN0aW9uKGssIHYsIG4pIHt5dGNzaS5ndChuKS5pbmZvW2tdID0gdjt9fTt5dGNzaS5wZXJmID0gd2luZG93LnBlcmZvcm1hbmNlIHx8IHdpbmRvdy5tb3pQZXJmb3JtYW5jZSB8fHdpbmRvdy5tc1BlcmZvcm1hbmNlIHx8IHdpbmRvdy53ZWJraXRQZXJmb3JtYW5jZTt5dGNzaS50aWNrKCdfc3RhcnQnLCB5dGNzaS5wZXJmID8geXRjc2kucGVyZi50aW1pbmcucmVzcG9uc2VTdGFydCA6IG51bGwpO2lmIChkb2N1bWVudC53ZWJraXRWaXNpYmlsaXR5U3RhdGUgPT0gJ3ByZXJlbmRlcicpIHt5dGNzaS5pbmZvKCdwcmVyZW5kZXInLCAxKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlJywgZnVuY3Rpb24oKSB7eXRjc2kudGljaygnX3N0YXJ0Jyk7fSwgZmFsc2UpO308L3NjcmlwdD48L2hlYWQ+CgoKICA8Ym9keSBpZD0iIiBjbGFzcz0iZGF0ZS0yMDE0MDgxNCBlbl9VUyBsdHIgICAgc2l0ZS1jZW50ZXItYWxpZ25lZCBzaXRlLWFzLWdpYW50LWNhcmQgIiBkaXI9Imx0ciI+CjxkaXYgaWQ9InBsYXllciIgY2xhc3M9ImZ1bGwtZnJhbWUiPjwvZGl2PjxkaXYgaWQ9InBsYXllci11bmF2YWlsYWJsZSIgY2xhc3M9Inl0cC1lcnJvciBoaWQiPjxkaXYgaWQ9InVuYXZhaWxhYmxlLXN1Ym1lc3NhZ2UiIGNsYXNzPSJ5dHAtZXJyb3ItY29udGVudCI+PC9kaXY+PC9kaXY+ICA8c2NyaXB0IHNyYz0iLy9zLnl0aW1nLmNvbS95dHMvanNiaW4vd3d3LWVtYmVkLXBsYXllci12ZmwzODVYVk4vd3d3LWVtYmVkLXBsYXllci5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBuYW1lPSJ3d3ctZW1iZWQtcGxheWVyIj48L3NjcmlwdD4KPHNjcmlwdD55dC5zZXRDb25maWcoeydFVkVOVF9JRCc6ICI0OHZ1VTZpOUdvYUhxUVBKZ1lISUJ3IiwnRU5BQkxFX0NBU1RfQVBJJzogdHJ1ZSwnUE9TVF9NRVNTQUdFX09SSUdJTic6ICIqIiwnQkdfUCc6ICI3bWx3MkhDQ3VoeFwvbWs3R3hBU3RKMDhoeDQ2bmpYbEpoMzFySjl5cmdDYlwvNG5jc1Q1Wmt3VGpzcytGN2FoNktna2ZsMkgxYTV5blNNcE4wQTNVZDFzYUlEKzVONGRhM1U5dU5mOHk4MDZYcHd5cmFHcGU2MDFRSmE5WE1Mb2pNN245aTdxT0UyeXFjRkoycHRqTnlUU2tNMTMyZ3JKeW1CcDR5Ym5jc21rRnZPQ1dqRnIyb0V4ek43b29JTmJyQWZUdzhVY1pCVTlNcExodnV1WkhsUFFCSmVXc1VGQzRZNEg5cmkyWXpocFRnWUdoZmN4NG1ucDA0blR2Rkd3ejd3NmRXd0tcL2JieDZPWGIxUjNYT1wvQWFoY3FtcFVHandCYXpQTU1raCtrZVI2R2lsTndpQTZ5R0IwVElWVVBxS25KTEJvYnNxbTZwTERnNTZCOUlwTCtiMHZNYW1XOFBHelB4VEFSeGJ3Sndjbk1sUmZNRmY5TzlBdXhoVnA2XC9qcDJXK2pZaVNtK3RiTlwvWmRaM2lFTlFUbGlEd1wvKzU1XC9KNVRWeE45N0o5S0orT0E1enB6dTNnWUx5UElcL1wvTEQ3dWNBUmo3eVwvbVNZcStQMThpc2Y0VFVMT2lnUTF2SHZPU2NxSWJsVkpIZXBPWFBkQ0pnOElia3NFSmxueWVKc1R0TVlXRGJHZ3ZwXC93Y09HNUtLS0lnVm0yaDhEcmdtME5WOXh3UTZSZDVVUmpWaytnYUgwUDA5bjc1d2J6MlhqTHdlRDlIXC9seHBxTHN1cWY3bnVzQ1JUXC90ZFNDTnh4Q0FcL05maVZFTjdqeGpGYm9cL3UwZTFPd200ZUdxS2tBYzhLMnVsWG1yZjg0dlpzc2g5blFyRFQ4WVJcL2VpaHhHemIxbzRRTUJrWGFOWW54WGhOU1lZcmh1XC9rYnZ1bXpDR2QrSDkwT29haEpYQjhFU0FXVm9ZMmJmSHRnSVI4dlJ2dDVuUHhUWThNN0YrXC9CRXVVK2xYb2k5YlZlRjhaT0hnVlZOeHM3Q0pwZ3h4eVVKOUpxdDJ5b0ZYVFZSV0hmVVQ1QVhxMWhkd1Mra3hXMFIrRFwveEdIN3dlcitkdlBzdzZWK0FRZkFcL2xua29SeW90SzVyd1c1NHN5T2xtUFwvNmRlK2ozY3ZXVHIxRmhMXC9NcG4xa1NwNkJEdDlkekpUWUdVSU1zUzE5bVgyaTFqc21kU1Vvamc0RWsweFVTT3VIWU1LeEFhZzRMU0dPSUh4UUtxQzd3YkdnQ1BsRmJkOUIwTm9OeVRFQzg0Tk1aVDhOcWNFU21MckRjM3owaXRmWVlRYTFEanFqTElpRGV5MzZHb0c3OFwvOWxZdU5uXC9scVR5VjQ3NFpRWVdyY0M1Ujg4eVhSQ3dzMzF6WFVSK2RBRjNDNzM3Vkp1bFpDOUlReXZrTUZSRTBcL204UDFIYVR6Vkc2dGxXaFk2Z2pnbHhOZWpPQ0JTM1FcL3lhMnZoQVJnY0x5aVlIRlY3REFQRGE1aStqQ2M4WEpyMUpOZW5tYnNMbkpadENGYlRiYmlsWFUrT0JRU3h4V1dZRldmKzg1NFFPaDFQWldaTGU0WHdiUU9VVXpKMzRuUDJLemlmS2xTOFBxSE5uaTlvM2t4YStLMnVoNmVqRmdlNEJ3bHBjNTY2cjNCMDlmOWg2cDZIN3hsN2hVNXZnUWZLd3Vmb2ZmQTUwck5wSzVmZXc3WEVZdmpNZVhjZnphZjRqZGx4NFdUY1YyenNMXC9Fak9tc0crMWVobTQraFZXOTNvdWlKMjB5SERGWURVajZGSlJudzVya01WSXVZTUVZTklGVHpzVmFiRzBVVHZPemxYbkZ2STRRVHJjdEN0eSs0YVQxSWpOZ2RnWU1xeFJoWnNzWm1VUDB5WDcrckt3aU52OHN6SGJRamlqdTJ1T2FzSWN2VEExdWo1cmJKU1ZJUmhiOGRraTRETTlsNG5pMWQrOWlzVkR5NjZJejhnOUpLUzJZcVpqVlN6b21iZ2hIVmpGZjZ1K24zRFAzbHhqN3pxNXFPK0x3WHJnNjd1N0xmSXEybURKQTJnU3J6NmV2QmhOQnRHQnY5QjltQU5KTlRlUjVmQVFYdkxHSjU3c2REbTZuNVNEUGxNSXpPZTFPU3EwcDdjUHpvdmZxRUJUNTg5N3owd0lcL3J6WkV4Q3l0TkVZMlVXcGhyXC9tbFVOSmRlaDhBYW9lclZEVG5YUzRtZ1RVK1lSQVZuWEFUajdydlg0YWJXak5yQVh1UDNXNVhTdllRN1dVSWdaNGF1Rk1lcTlUMjFQUnZSZ3QzZHIrZ0pvbDZNd2tuXC80RzViUEVaNzJoVTF4ZkZ0ZndvRGx5ZkwxZHU4VlpNVHlcL2FNdVVDdTdNaWp5WldleTNnXC9TdkkzR0ZYZHdnZ1ZuRk9rY1lsdU5HTW95K3c5d1E1TjVDNnhzVEtLNVhrM3lFSXBLbVlZM0dBcDBGcHN1U01uTVJVcVZncUI0V0N0XC83M2tkdUJtYlBEalF6YkdMcWVYTXVGMFlSRytBZkN2XC9NcEJHXC9QQ0RIaTdpUWFcLzNYcHZkeFZlVFZiRHVPRXhDNU9oQklkeWpST3FaUENVektjdkdJak0yYjF6cHZVT25zVitldldOVmk3Z3ZQUXpDSkxQdjNOVVJCNE9FN3FFczBkY1hRczRFUlVKMHZDcDhvc3VGMmFHdnN4RkhsSmdOQk1BVGlIMG1qUzhXdzR2WTVRS3R0RzNTenJTYVZJQlV0M1RLanUrWDRJZXE4dk5VV0JoU3ZsYU56VXFUQnJONDJGWnhWV1ZZRGtmNjRNUDlmc0tvZjM1eHFZRGxhQ1NYZVNha2prd25aZDJ4dVphcmFpRDRCa0xxS2J2ZnlLdlNLZ3prd29KY3ExSW4wQnA1amFMVWhTdGNMblNpR2hUTllCRVNnTEZYNzJYRkl5QlRNdkQ0dEpJRlJOa0dJWFwvN1VNXC9YeEJcL2Zja3JQeTk1eklrRHViSFlPZ2owQ3d3WTNZOXFLT0trZDF5V1JoQko4R1wvM3lOMHplK2g1SWo1Vks2UlRxMkhuQ0xzbFRwT01tUldWaW12Q0Q0ZXVDWG1IelFWWm4xZ1wvZEpXdEpzK1lLSkxteVJMUzc2blBqWUpSejJFYmtPSHIwOHljTTVOK2VCUGVqZjNkaERKaVcrVG4wdDE4NFBqWU9BRk5GUDBQOGM3REhxNFwvbVVLMEk0OEh4UVwvYWxncWFLWXBvY0xlemlnbGxvbjZiZlU2SE1tQzNla2FoVDFuWE5lWFBXT0JaaGs3WXlTZ1NtTjhYT01cL21nTDVkb1dcL3FLMFZaVUN2alZaWVRMZjNCT3M0TUV5N2N2cEJobnlOXC9wT0d0WXlIOURcL1R2d09oUW51MzhIOExqbVwvT1dwZW03TENIZnZiT1JVZ21nQmltT0JhOWR4Z2dFZ0lVRmRSaVJGZ2c2dGJXV08yM0NTNFwvcjROUGpKK3NoXC94REFDMGk1WHh5SjRNeHZxZVJTZTFcL1k4bk5DaExBQjRMXC9KM1dkVlhJbTRCb3FYejlOd2d1cm42RnowZGp5bXVQbitlNUxKUloxcHlGN3VzdHF3R2RtU1lFTG9scU5ab0ozRERodkRzdXJXSDlRQThDNzc3R1FTVGlTdWZlNnBhZmRuRTFVXC8yU1dJMTFpZEtlcWI5eVRVcnBWcHlWOXI2Mmh5Um5pczUyM3RjMXdpdXU5YWdNb1pkWisyYVNpYjUzRW4xVVBCSytBb3JZa3gwZGRjcDFpR3JyVWttdUc2T2k5K05cL09LNGYrVitiU3hZWjEzcmpuSCtVSXhkMW9RUTFISENMWkFQeUlDbUNQa0o2NnptNWtyTEVWS3cyNERzbnJnNld5ZXZFanBQcldVbWRQZ1A5akRJbzBxamYrYU5UaVRkZ3plQnRNRGxaMHpoQ28yOUVZUWV3S0k3RkM3WUNJakxUdWI0aUg5aW0yUElPYlNmUjh1TTVMRE1WcWxYeUNWOE5FNWFZTk0ranZBYXhFblA1ZkhYbFMxSjN3dDhuN21XVEpsdnZGTzZzS0V3ZEF5eGdjOWg4OElXTDVtV1p2aENFd0RaT0Z1Vms1ZXhxanhGSGNsbVZZaUNJTnJab0NzbEhrWHZNZ0RcL0RKdGg2OEg1ZlM0czUwMHNPS3lLT1loVElTazRMbnVRTDRaNGhaVXNyVlNZUWlHOHN3RE9VaGFVbzR0VDJNdUI5XC9XVFdvYkhJYzJrZUs0cVJYb3pPa3NlclQ5aHpMWGo0QWl6MVNBbzFRWjdVb0VGSm9uUlIwQ2lIVDlLcGYzUjRpRGNzZ1VTc2l6aDVwOStjZ3dndDJXS0VRQnNNOWZMdlllZVZCa2RKMmV1Z3FzbFU0SUpCaXgwWDRMWTIrdzZQQzFzYURRYUxzMGhKWHh2RDZ1eWIzQllWRlAwdDY1Rll0V2RCT2ppSVhOcjdRTGdcL3E4NzQwOHY3Q2dhb1o1dGZOWXk1XC9ZeHdTcTRZV2kzUU5nUlFUV3B6bnVLa1pnQ3hhbE5NRnEwcStcL3c4K3FjVFc0ZDhzRmpTMmdTallNQ3RsblpaZUpWNHdjOG5Ldjl6MDJxbmEyOVMzMDFtXC9ZXC9GZXloTFlVWm8zaHRaRkVmRFwvRTdUNENEUU9YdSsxcWpCdUIwN2pmRWRWVzVLZWxjSFNHaHRcL1lRMkNHN3c4TlJacUZrVFFlYjM2K1dVd09CUDNwMlQ3dU1kb1haWGFNYk5teWRoTDY0Q3JpRHVmcGRLSFF6MTh4RzN1ZWVOSUt0V1B3NnhMc3pPY2tCNFpVZWFyRmRMSWY2YjY5OWQxQkJzbUxDcUpQXC94SkhJczQ2a3RyaWkzSlJFcjI0aUI1NkNLZmJDZjBneTQ2V2laTG03b3MzVU5yZE5iM0FnSUtQSHhHY0pENm1sZHpcL2FWXC9DdjBaSHdKd1IzQUNMVE1BQmc3TWhqVU9kUlZwU0JcL1puRDdnM0dUYm5RRUg4akZXSkZJc2dxbVdQdzdDNzNpQmEwcFlyTVF6VStUeHBOS2c0TWN1ZUpNTVkwR2gwSnpUQWhlVDFIXC9BQ2dneDF4ODN6azAxRWNEWHh5YnVzdUhuUjdKNEVTQ0I2eXZUYXdGOW04XC95NDZ4QVNPendhSUp1dmxkTnRJdWNOcU1cL2lpbHBwNlF4Z1JNU3lJMnlLR1dXMHZFWVhubU1nbUVucjV5UTlyZXJFT2dwdXJSN1o5aWliMXh4N2VQVWV2cWNURTFxM1FWSllkSTE2VXFubFwvRUQwZElGRXl2WEVkTnduYzVtMzVJdFA2YnB1ZkxyTzh1RStZNnZlUTVoaE9ORlZJVHE3RFM3WTliR1lxRzBxVUlzNmIyeHhzVTNjWFwvXC9qdWJWQ3RiWHpuc0F1REZDXC9rMDlLMnNwS2ZSeEdMVU53WUZqY2JqSjFwUGV3bXlqb0pYQzBndG1OUnY4T1FUc0QrWDRFTVJYd1d1MmhCN2JqZXJsbFZkakRoRGsrXC9CV1lRRVZQMWRuYUxzTjVcL2Vua1R1SlZYUUU4MU5QVHVaQXRFcjRtaTNMRUpsZ1lnVU1kUnYyUjA4RUJwb3plU0UzZzIrXC9ncE5FUzlcL2UyaVI2cXhuWFwvQVZzZ0x6UnB6SFFmVzBDTTB1d01XTTNjMm1mR1ViMWpmTWxnY0JnQ0lhZjIyVXJMRnBVUFwvMmxIcFcwYUxYTDQzWnc2eFhZOElobUdoSmIxOU5zM1F5MXY3d21xTVNkdFNcL2F4b3JWTG5PV05JdFV6OXdRQXVtbFNMT1RZZlc1YkNMbWg0ZUJsN3paRXJxbHN5T1VTd1pSbTNKVUErcjZOOHR0cDFwT0pKdmN1NmErRnFMVUdpOW81UW1SemI3TVVxUUtaaXE1VEx5Rlk5UmJoZm5Ia2l0Wm1cLzVNMFN2UmI3dzVnZzNYZkQ0QXAxc2xmRjRXekxuT25aUk5MSWhqYUtySFJsRlN3QlwvcDA2ZkVuMEkyb0pSVzNVTXJyZERUdmhqKzZZS3RyTFhqRHI5RXVENUxzbFYrb2ZySjNvN1RWdUlEekVQckxEblFISGdxOU5EQWcyXC9OZHhuSTdvSHRVanJOYlBSUkc3YkF5ZVFcLzFnZkRHTzJwaXA2M0ZNeWRHdVdjSEJTU0tuYTA4VFlKU2RvOU1vbCtUQm00aDhcL3ZuNjBiZmpuSldoUGRwaVc0QndueW95XC9aZTJhTDJxSkVnMm1qWENkZSsyRFpaQzNTbmJFc2FSRk1GbTVaS2wrZnVoRWtFbk92QzY2SU9CRVQrNzZVMitqekdCejVhUmdzNG9WeEZ4U1FqUnp4RVZFYUh1K2xvdVZjS2RSTTBnZVA2eGY4dk1nM3VCSjNPRVpQVXFrQmJlMW5RRlBWbkM0dUluKzNaeG9mYzFETmtvVEJlQ3JSQ3Aybnh5Y1JiblZDQ0UrU212bjdOODJJUFk2NWRRM0F5YmJDN1Jha0J2Y0w1XC9sMk4zb3JSZE5sUDlOUUt0TGRWXC90UTdCYnVqc2QydWt0N2RwZUllVFlPandQc3VnQndIZkZTS3U0MWswOVh1RmRqT1FpeDY3WHFWbitWTHUrWXUzd1ZXU1gyWjI5NUlKR3J0KzBJUGpSRDBYNTdHODNDU1NvMWoyckU2K294SEJueFJleVwvbklpSE1aK1Z3VTk5KzV0cktId1JOOE1oZmxLeDBLQmdaWVJzMksybjRRMHFyWDY3STRxVURscWs5MTFrdXJqTWhlTFN1VFlmXC82OWVPd01CXC93UFFWT29HRGpcL2FyYmF3elFXVHNBaGJqTjZ6cFR3ejJBMmFSWDNiUDhGaFU5TldvQzdsYzZKWnBIUzJCRWQ3K3lEZXRzWEtpOXpLSlNleUNaTkcyUzVoVGcyQWZaaDFGN2o3ZUFLVld6RWZqMDZXVXZJS0g4SkRIZ3JzMWRxQ3lXMkpSaU94MFZzMllZWmNkd0o4WkhOV2V4OTF5U0pab3l3Wno5bTFac1RKMEsxY212NFNHUjFGQjhWZWUzNkxsb0dsa2tLQ3hqeU84S0hlZVJHUmxjZlpJeUxzMUdnWG1mWlRHZDhFZEwycGNxaXJrXC9KVDBDcDAxVWJrR2NVdmVPbDRuTzVtckZvb0lFXC9Va2lmWjE3aTd6MGRlaVh5YW5lbVNOa0FITE5OejlUT0dEbTlWTjNFSTRLcWFWeUsrMVJhU3AxVElMaDFMajdMUXc2eThrVGdHdk43M0d0KzZwbzBaQ2RTc1B4TmVETFVTcjJDREZ2R1Ezbks5VXkxNVJPVFJFS0ExUXZBZWJKVkRYY0t4NUFQM3V4Y3FsRjAweVF2MW0xelpVY3ZVV3dcL1pKcG5RenVVcll4QmtDck5KaTZ3TXI1QWU5cmJhSmowUlpTajNhSEJqMkt3VU5EQmQyN01oTmswdXhXRVwvbFdTWTdvQVFlc3h5VGpPalA0U0NaREZFV29ySjBVWVlodDdMZ0hNVVFyVXFTZnBYbm9yZW53bHIwUmlIUnVpbVhDOVVySmZJNFY2MVhnVU1uWHdiZVZBdnlcL203SGxvSmZKaUlBdFVCOWw3OGhrTG1DUVFJM3Z3V1lMWWRndGMwTWs3akJmem9ER0dWaXcreWJhSnpQa2dwbEdvdnFDXC8yVW5vK0Q1ZnlSUkhQbHdhVE51eXYrS2hrVFJBaWYxVVFXOU1MQ1BwclNDVjJwdGR2ejA5VFptVGVBY25GNGN0WUFsUW5udzhlM1VmdHNpSXh5WjBXWlJWV0dPUFJIMHJ6Zkd5VSttb3dUck04aVpwQ0ZDcDZiZ0hVNlZ1WU50VzQ5SmJ5elpSUThvMHdQYU9BRUJHUDRsVW1oUDZ1XC9XMDFFSnRVNDAxN0J2bjNCcURDYVl1MVRMak5ERGVUQm1VTEZWNVN4VXlHaW4xXC93NmpEZVhWQmlxUWxYdkJsNFJxNTBobjlTMERtbGZPdTJKY1Y4WHcwMkQ5RG5LZTFraDlQTkRobGpCbjNCRGpqUStnVjN1Ykd1RkZxTlVveFZEQlk0Mnl4a1BFbWFtNW1iV213U1kwMlBZRlwvaHhmc0M0dEdWb014M0grTXQ5NCsrOEExbUY1TTVTS1Q0Wlc5cTNkc3dpa2RsM0NHZWlxNEdhZVREWFhIbkR3VzhBdk00TE1BNnExY1B1M1wvcjVJYURMZXFabzdLRWNBVHRUQkV6XC9VcCtaWFpvZFpxQURrYVwvMUNDanN3ekIzSHJ0eCtaWno4dnd4dU1oR3MzTW9pbVwvUk1OVldSTHhOOEtmaFwvdlBIbWpcL1pFYzRmWnhHc3FTZXhUZmZtMFdLTzNpQXhJd3RDNmRzZ3dpam1jelc5R0dOZDYzcVwvdmdNV0tHK1wvYlE4am1DTUE0TDRCSVJYa1hVbWpGRGFGNjZIK2pmUnpTZVBCWmpicWdaUDN0WjhqcTA5T2xcL09xenlHUkhuOXd2NmJSK0psTWxvODN1NUVhNmRITGNRQnRlK3IxWHJseHVlaTdOVFVOUjVCOHZaT1dYQXZTUWN4Z3p0YWJmUklhMUFmUzFxc29zQUpjVTBBUVF4ZW56SDlWZUFcL3BrTTRDZEc0RUhydGpqZUZHMFgyYjVTcDFTcDJZbWdzMzJ0UXhJWXUwRUxCUU8zQVdDVmJ6WityZWw3RzVDanBSdmZkNEQ1YzdGYlwvMFFZZ1hFMnZRbkd6dzhOXC96bmV3NTZxMTRCZEpmQjlMRUFudVB4ZUVmVE5vWmRZTnNKOTRWMXJ0U2Z5ajNYNTZCakticzl1OFhHcjdobkY5d3lDVHNIZGM1N0NBbUkrdGJGMnBwMnc4RmJwTDRcL0dzUWZqMlFjbmhBcjh0WTVMdUJMeGtnQzZNMnhhOW9rQmE0QlNUcGFxZWVsa1FWKzBsZnlmVWdUKzZ0TVwvVzFCeURhK2cyUVUrVXVCc2lXaEtPeHVkSWhTb2RxVnV4MVwvbjdFeTFpUEt2Zmh0ZGJwRGtibDJFUVRoZzFxN1g1S2NkZE9Xc2RYNW9CQVwvaDZrTlwvSldXZTVaZHNrQWF3bUV4Y0E5OFRpMUx0VG9xMEtmT29mQjVCVHNaTjZ4VVFSbldFTmtJaDM5bzFyaEJ5Rjh4dFk0cEVud0NDVmVUaVVUWEpPMjNrTmhpRmpkZDJqS08xS2FUWGF5S3YzUmJVdVRpcUUxaXBjUFN4d3Q3VHloRGN1MGJIUDFKb1pXWElZNHY1NlJtcE0wUEc1N1E4TGhGbm5NYlNSYnhmbjBsd3h4QVg0NU8rNkI2M2VHVUdEanRrUDFlTjhNR1hJME0xOVwvaXdIMFRNYlJncHRzQ0JhT0JZSDJLcmdzSExzeWVDeXRBME96Sm83S0pLeG5LZFhRQ1wvOXFYeGxMSW00MGtHRzFpZ2xqV0FxSkdyRkxIRitlZjJRNENKTXdWSzNyRmtBeE9OZmJ1UlhaUnFWWmJpWE9LWjBoamNhbHVXM1FzWGIxdGM0NUpWTFluVHN5U0c0YjJWbFFkTzdJSTNXVk5HMGtCRzcwdjQxb2xcL3FMQTB1STRpQTR4c0hydGlGTW9nc1JhSnZSWXFxN2tYSlhRUXg0OE4yWThBZjh0VkFFVEdhbFVQakg3aHBIWTZEYjRoVHV0NFd3MUxkODFpa0kzZVZmVUhNRkQrYzk2MFJ3VkFIcGJTK1V0YkZSRDVHNkRTXC9hVFpyTjhGd2pRdklNQ0w5UkMxRytlMEVBOW45K0kwb2xqN0M5UHFqeVwveWR0NW5LSXFVbHErbXUrb1lJOWVsNndlMFVFZXowSkxuUDVLN2pHbFJsV1dXZ09NMzVtS21McTltVm9DbnZ4ampadldWMHVhMzR1UWtObEZyalpDSmJVck5nRVRJT0ppS1k3bWpxR3huWkRQMCt0RGl3SzZJS3ExZ1A0U0F2RlJjbEZaWXRXRDkrTHM5SGc4WWwrK1B1cmdIZzBNaFJZYXF1YTcyamxXK2pYaXJUZGpOeHdzMmZ2VFhwb3pFQit0QXFuRGFnS1dJTTRPN3FlMFRhTnBRa1VYS0tNc2RnV1V1UGNDWmNcL2RLYTc5eE10UEZvSUw4VnhhWDNaQ3kyeWZOUGNEUFNyWU40MlRBOXJxbDl5bXdNS3lRWjlCVThOVlpQYlwvTGY1N2JIRDhoeFNCUGJYMGxBbTZnbmFYa0pwc1YzMm1HSU9SeGt0Q2s4TDJqWkFMYVVkYm12bGcrRU12eVI0RFQ1ZXRPYnZkbGprZHJSdk5yNWFPVG9ib2ZXbENDTVQ1cFlvZ29xQURjT1NQMnUzRzFjQlZ5RWU5N2tHTkg2azNuSjhSWHZmMGYyekZwMEF3WnYwNWFwdUFrNFZZeHFHb2dFMWQwUkF5a0ttZGNjS2M5QVhtd0RMZDNKQkRKWjl3MVh4SmtoS1UxY3FRaVR5dng4NUZDTWtJRExcL3NtWWVqQkpZNmhOdnZxcGU3c0J6YVdaUGhsNUtiODhGMVd1XC84eldNOEc4aWhrK1VYbFd2enMyZkp3SndJZm9PRUh0R1hkeWtPNk5YVDVkdTZ6ZFJlV3VLc2gzZmZkMW5xOVpmTWdOVk9xdDdKQ1wvc0RnUkJNbFwvNnlTZGlrdG5KSnJ1MUpHelkrT2Z1RnZqNytaYjVnVmlwZTFNMGZneDk1MlwvaXhMTXN4NXk5aTV6VHJEdTIzWkc2cXZCVENLVlhzMjV2QlwvdG0zS2R4T3RxKzIrV0FZdzFNZGpxdUdLa2hVUkpib2dhRjQ1WWc0a0tEQlh2bHVIMzhFeG9JSHphditodXlYcDFsQmZGS1JGNFFhem1US1IwYWNKMmZZMWcySmpPbGRJTElCMXVobVwvbW11eDd4RFdYdmh4T0NyYkhEbTJBWFBYTzE5MVA3cTlEcWhmR1N4TktSXC9aeWh5YTdSRHB6QVh6d3F1cGFMT1VnNGtxc0cxMDBWcTgwZVpsZmhydmtwMEVVU1dJcjdscGxsbkRtbTloZTJOazltd3BCdjM0MVwveUQyXC9PeVArd2Z3bUxkSWNqRzVmOTM3ZVpkdnFRV2JheVhSU2hRcjF0OVM5Z1g0ZURnREZlQ3RXZnhxY0U5azRuK1gya0pwYUtKTlBldlc1R0xhNEJNRXB1VEowOXpsa252OWx3ZXBWZ01pM1h1TVJpMFRVQURIeWhWSUZ4R0YxQ0hIaVIxV1Z6czFBdVNLeDBBOTNaaVJuN1B2RkMzdWYxN2NWMTY1YzBHY3FrKzEySTVhZ1hQQmo5alAzSmlDRWJ3Y0pmSCtLbm5XdHB5V29RYVBVcWJRdU1Zc2ZFZWI4WDF5QzZRaGZxZU8rQ0FpU0xYUHoxZXVCYm9uRFRaQmN4VDFQQTdOM3VFcmZUbHFpZTFSNFljQVgzdXpCeVNOMHdFS3h2Y2U2UjAzUll5V0FMa2JPSzR6Y3JtMUJqSFZZU2lmXC9HeXhzTnhPbzJEaXNhU1pDdG5vN1RLMUpuQzRVcFhtRWE0SHdxS2JNbzlYVjhXU3p4MmlYZWhjcmhxc3hYaFhOYVBxQXlrZUorMEZHNDM5Y0taUGxTRXFWbmhGejdvMWRTY1ZzMEIxaGQ4ZFZlalZ2UnJ5eldWeGlEVnVtU283OEt0aUcyZk9ZSnVrbEdpU1hTOU1NeWhycWlhRUs5R2ZCTXZTR3BrejUrTGxGV0Q2TWxHT3lTMVJrZ0NiQ0JGZnVrTEF4amluRDV3VzY2TjdVWklLZkZpa2dmeEQ3NDZXRnVYQzFTK1U1QWpPZUtQYjNhKzVJQWhMV1ZyWkt6RHZcL2lJbHBLVXdPbVc2Z1lDTkNKMDZmOEs1d255WVVrXC9Nc3JrY2IyTHB2YXRZeXRMb25OYnVMVUxnUXpLbW9DejRTTTdiS0lqYThGeVFLZithTlRwTUQiLCdCR19JVSc6ICJcL1wvd3d3Lmdvb2dsZS5jb21cL2pzXC9iZ1wvZ1V4TWwtQXpXTVQ3R2FhMFBQbnRnNThXVzV0cmI2UWJ4U3FwTDh3MnZDSS5qcyIsJ1hTUkZfVE9LRU4nOiAnUVVGRkxVaHFhek5FWTE4M2FXb3hkM1JXVWxsQ04yUlNXREV0Wm5kNGVGQk1VWHhCUTNKdGMwdHVhVmh5WlRWbVMxWnhPVlIxUlRKb1ZUWnBSMVJLYVdGUlNHa3lUa2RNWmtObVNXSlhlWEJ6ZEZsT1oyUXdVaTFpY1dSb00wNWpSbVl5VDA5alJsWlBWMk5mVUdSS00xVmpOa1poYUZSbE4zbGtZVWRRWkRWbmFrMVBaM0pRUXpaYU1qTXhPSHB1UzFSelVXOW1lVWs1VVZOT01XcHpRblJ6TTB4RlVuTkRTSGd0UjI5SFIwVndlVTFvUzNsZk5Vd3dPVFZ6ZFZaNFZXbzJRVUU9JywnWFNSRl9GSUVMRF9OQU1FJzogJ3Nlc3Npb25fdG9rZW4nLCdFVVJMJzogIiJ9KTt5dC5zZXRDb25maWcoeydQTEFZRVJfQ09ORklHJzogeyJtaW5fdmVyc2lvbiI6ICI4LjAuMCIsICJ1cmxfdjlhczIiOiAiaHR0cHM6XC9cL3MueXRpbWcuY29tXC95dHNcL3N3ZmJpblwvcGxheWVyLXZmbFpzRHVPdVwvY3BzLnN3ZiIsICJzdHMiOiAxNjI5NSwgImF0dHJzIjogeyJ3aWR0aCI6ICIxMDAlIiwgImhlaWdodCI6ICIxMDAlIiwgImlkIjogInZpZGVvLXBsYXllciJ9LCAidXJsIjogImh0dHBzOlwvXC9zLnl0aW1nLmNvbVwveXRzXC9zd2ZiaW5cL3BsYXllci12Zmxac0R1T3VcL3dhdGNoX2FzMy5zd2YiLCAiaHRtbDUiOiBmYWxzZSwgInVybF92OCI6ICJodHRwczpcL1wvcy55dGltZy5jb21cL3l0c1wvc3dmYmluXC9wbGF5ZXItdmZsWnNEdU91XC9jcHMuc3dmIiwgImFzc2V0cyI6IHsiY3NzIjogIlwvXC9zLnl0aW1nLmNvbVwveXRzXC9jc3NiaW5cL3d3dy1wbGF5ZXItdmZsTHdaWEpXLmNzcyIsICJodG1sIjogIlwvaHRtbDVfcGxheWVyX3RlbXBsYXRlIiwgImpzIjogIlwvXC9zLnl0aW1nLmNvbVwveXRzXC9qc2JpblwvaHRtbDVwbGF5ZXItZW5fVVMtdmZsNGI0UzZXXC9odG1sNXBsYXllci5qcyJ9LCAiYXJncyI6IHsiYWRmb3JtYXQiOiBudWxsLCAiY3IiOiAiVVMiLCAiaGwiOiAiZW5fVVMiLCAiaW5kZXgiOiAwLCAiZW5hYmxlanNhcGkiOiAxLCAiYXV0b2hpZGUiOiAiMSIsICJzaG93aW5mbyI6ICIwIiwgImlzX2h0bWw1X21vYmlsZV9kZXZpY2UiOiBmYWxzZSwgInNzbCI6ICIxIiwgInJlbCI6ICIwIiwgImVsIjogImVtYmVkZGVkIiwgImZleHAiOiAiOTAyNDA4LDkyNzYyMiw5MzE5ODMsOTM0MDI0LDkzNDAzMCw5MzYxMTcsOTQ2MDIxIn0sICJwYXJhbXMiOiB7Indtb2RlIjogIm9wYXF1ZSIsICJhbGxvd3NjcmlwdGFjY2VzcyI6ICJhbHdheXMiLCAiYWxsb3dmdWxsc2NyZWVuIjogInRydWUiLCAiYmdjb2xvciI6ICIjMDAwMDAwIn19LCdFTUJFRF9IVE1MX1RFTVBMQVRFJzogIlx1MDAzY2lmcmFtZSB3aWR0aD1cIl9fd2lkdGhfX1wiIGhlaWdodD1cIl9faGVpZ2h0X19cIiBzcmM9XCJfX3VybF9fXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuXHUwMDNlXHUwMDNjXC9pZnJhbWVcdTAwM2UiLCdFTUJFRF9IVE1MX1VSTCc6ICJcL1wvd3d3LnlvdXR1YmUuY29tXC9lbWJlZFwvX192aWRlb2lkX18iLCdGTEFTSF9VUEdSQURFJzogIlx1MDAzY2RpdiBjbGFzcz1cInl0LWFsZXJ0IHl0LWFsZXJ0LWRlZmF1bHQgeXQtYWxlcnQtZXJyb3IgIHl0LWFsZXJ0LXBsYXllclwiXHUwMDNlICBcdTAwM2NkaXYgY2xhc3M9XCJ5dC1hbGVydC1pY29uXCJcdTAwM2VcbiAgICBcdTAwM2NpbWcgc1x1MDA3MmM9XCJodHRwczpcL1wvcy55dGltZy5jb21cL3l0c1wvaW1nXC9waXhlbC12ZmwzejVXZlcuZ2lmXCIgYWx0PVwiXCIgY2xhc3M9XCJpY29uIG1hc3Rlci1zcHJpdGUgeXQtc3ByaXRlXCJcdTAwM2VcbiAgXHUwMDNjXC9kaXZcdTAwM2Vcblx1MDAzY2RpdiBjbGFzcz1cInl0LWFsZXJ0LWJ1dHRvbnNcIlx1MDAzZVx1MDAzY1wvZGl2XHUwMDNlXHUwMDNjZGl2IGNsYXNzPVwieXQtYWxlcnQtY29udGVudFwiIHJvbGU9XCJhbGVydFwiXHUwMDNlICAgIFx1MDAzY3NwYW4gY2xhc3M9XCJ5dC1hbGVydC12ZXJ0aWNhbC10cmlja1wiXHUwMDNlXHUwMDNjXC9zcGFuXHUwMDNlXG4gICAgXHUwMDNjZGl2IGNsYXNzPVwieXQtYWxlcnQtbWVzc2FnZVwiXHUwMDNlXG4gICAgICAgICAgICBZb3UgbmVlZCB0byB1cGdyYWRlIHlvdXIgQWRvYmUgRmxhc2ggUGxheWVyIHRvIHdhdGNoIHRoaXMgdmlkZW8uIFx1MDAzY2JyXHUwMDNlIFx1MDAzY2EgaHJlZj1cImh0dHA6XC9cL2dldC5hZG9iZS5jb21cL2ZsYXNocGxheWVyXC9cIlx1MDAzZURvd25sb2FkIGl0IGZyb20gQWRvYmUuXHUwMDNjXC9hXHUwMDNlXG4gICAgXHUwMDNjXC9kaXZcdTAwM2Vcblx1MDAzY1wvZGl2XHUwMDNlXHUwMDNjXC9kaXZcdTAwM2UiLCdQTEFZRVJfRkFMTEJBQ0snOiAiVGhlIEFkb2JlIEZsYXNoIFBsYXllciBvciBhbiBIVE1MNSBzdXBwb3J0ZWQgYnJvd3NlciBpcyByZXF1aXJlZCBmb3IgdmlkZW8gcGxheWJhY2suIFx1MDAzY2JyXHUwMDNlIFx1MDAzY2EgaHJlZj1cImh0dHA6XC9cL2dldC5hZG9iZS5jb21cL2ZsYXNocGxheWVyXC9cIlx1MDAzZUdldCB0aGUgbGF0ZXN0IEZsYXNoIFBsYXllclx1MDAzY1wvYVx1MDAzZSBcdTAwM2Niclx1MDAzZSBcdTAwM2NhIGhyZWY9XCJcL2h0bWw1XCJcdTAwM2VMZWFybiBtb3JlIGFib3V0IHVwZ3JhZGluZyB0byBhbiBIVE1MNSBicm93c2VyXHUwMDNjXC9hXHUwMDNlIiwnUVVJQ0tUSU1FX0ZBTExCQUNLJzogIlRoZSBBZG9iZSBGbGFzaCBQbGF5ZXIgb3IgUXVpY2tUaW1lIGlzIHJlcXVpcmVkIGZvciB2aWRlbyBwbGF5YmFjay4gXHUwMDNjYnJcdTAwM2UgXHUwMDNjYSBocmVmPVwiaHR0cDpcL1wvZ2V0LmFkb2JlLmNvbVwvZmxhc2hwbGF5ZXJcL1wiXHUwMDNlR2V0IHRoZSBsYXRlc3QgRmxhc2ggUGxheWVyXHUwMDNjXC9hXHUwMDNlIFx1MDAzY2JyXHUwMDNlIFx1MDAzY2EgaHJlZj1cImh0dHA6XC9cL3d3dy5hcHBsZS5jb21cL3F1aWNrdGltZVwvZG93bmxvYWRcL1wiXHUwMDNlR2V0IHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBRdWlja1RpbWVcdTAwM2NcL2FcdTAwM2UifSk7d3JpdGVFbWJlZCgpOzwvc2NyaXB0PjxzY3JpcHQ+eXRjc2kuc3Bhbignc3QnLCA5KTt5dC5zZXRDb25maWcoeydUSU1JTkdfQUNUSU9OJzogIiIsJ1RJTUlOR19JTkZPJzogeyJ5dF9saSI6IDAsICJ5dF9zcGYiOiAwLCAiZSI6ICI5MDI0MDgsOTI3NjIyLDkzMTk4Myw5MzQwMjQsOTM0MDMwLDkzNjExNyw5NDYwMjEiLCAiZWkiOiAiNDh2dVU2aTlHb2FIcVFQSmdZSElCdyIsICJ5dF9sdCI6ICJjb2xkIn19KTs8L3NjcmlwdD48L2JvZHk+PC9odG1sPg==" frameborder="0" allowfullscreen></iframe>'.format(vid_id)
			self.thumbnail = 'http://img.youtube.com/vi/{}/hqdefault.jpg'.format(vid_id)
		except:
			print 'Sermon save failed'

		super(Sermon, self).save(*args, **kwargs)


def get_upload_path(instance, filename):
	return os.path.join('notice/attachments', '{}'.format(filename.encode('ascii', 'ignore')))


class Notice(models.Model):
	notice_type = models.CharField(max_length=25)
	title = models.CharField(max_length=250)
	content = models.TextField()
	attachment = models.FileField(upload_to=get_upload_path, blank=True)
	views = models.IntegerField(blank=True, null=True, default=0)
	created = models.DateTimeField(blank=True, null=True)

	class Meta:
		ordering = ['-created']

	def __unicode(self):
		return self.title

	def save(self, *args, **kwargs):
		# add created datetime
		if not self.created:
			self.created = datetime.datetime.now()

		super(Notice, self).save(*args, **kwargs)


class IthacaLife(models.Model):
	content = models.TextField()


class KoreanSchool(models.Model):
	content = models.TextField()


class Interview(models.Model):
	major = models.CharField(max_length=100)
	college = models.CharField(max_length=50)
	grad_year = models.CharField(max_length=4)
	q1 = models.TextField()
	q2 = models.TextField()
	q3 = models.TextField()
	q4 = models.TextField()
	q5 = models.TextField()
	q6 = models.TextField()

class ServiceSchedule(models.Model):
	title = models.CharField(max_length=250) 
	hours = models.CharField(max_length=250)
	location = models.CharField(max_length=350)

